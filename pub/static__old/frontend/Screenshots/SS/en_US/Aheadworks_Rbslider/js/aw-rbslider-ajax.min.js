define(['jquery'],function($){"use strict";$.widget('mage.awRbsliderAjax',{options:{url:'/',dataPattern:'aw-rbslider-block-name'},_create:function(){var placeholders=$('[data-'+this.options.dataPattern+']');if(placeholders&&placeholders.length){this.ajax(placeholders);}},ajax:function(placeholders){var self=this,data={blocks:[]};placeholders.each(function(){data.blocks.push($(this).data(self.options.dataPattern));});data.blocks=JSON.stringify(data.blocks.sort());$.ajax({url:this.options.url,data:data,type:'GET',cache:false,dataType:'json',context:this,success:function(response){placeholders.each(function(){var placeholder=$(this),placeholderName=placeholder.data(self.options.dataPattern);if(response.hasOwnProperty(placeholderName)){self.replacePlaceholder(placeholder,response[placeholderName]);}});}});},replacePlaceholder:function(placeholder,html){if(!placeholder){return;}
var parent=$(placeholder).parent();placeholder.replaceWith(html);$(parent).trigger('contentUpdated');}});return $.mage.awRbsliderAjax;});